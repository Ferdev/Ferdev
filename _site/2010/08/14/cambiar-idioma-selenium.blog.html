<!DOCTYPE HTML>
<html>
<head>
	<title>Fernando Espinosa | Programador web freelance. Cambiar el idioma a selenium</title>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
	<link rel="stylesheet" type="text/css" media="screen" href="/stylesheets/reset.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="/stylesheets/style.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="/stylesheets/pygments.css" />
	<meta name="description" content="Soy un programador web freelance, especializado en proyectos ágiles, ruby on rails, jquery, interfaces de usuario y usabilidad." />
	<meta name="keywords" content="programador, programador web, freelance, programador freelance, programador ruby on rails, freelance ruby on rails, ruby on rails, jquery, usability, html, css, css2, css3, javascript" />
	<link rel="canonical" href="http://www.ferdev.com" />
	<link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="/atom.xml" />
	<link rel="alternate" type="application/rss+xml" title="RSS" href="/rss.xml" />
</head>
<body id="blog">
	<header class="dark">
	<hgroup>
		<h1><a class="title" href="/" title="Home" rel="home"><img src="/images/logo.gif" alt="ferdev.com" width="59" height="59" />Ferdev</a></h1>
		<h3>Programador web freelance</h3>
	</hgroup>
</header>
<ul id="contact_icons">
  <li class="twitter"><a href="http://twitter.com/ferdev" title="Twitter - Ferdev">¡Sígueme!</a></li>
  <li class="mail"><a href="mailto:fer@ferdev.com" title="E-Mail - Ferdev">¡Envíame un e-mail!</a></li>
</ul>
	<nav>
	<ul id="menu">
		<li><a href="#blog" title="Portfolio">Blog</a></li>
		<li><a id="contact_button" href="#contact" title="Contacto">Contacto</a></li>
		<li><a href="#about" title="Sobre mí">Sobre mí</a></li>
		<li><a href="#portfolio" title="Portfolio">Portfolio</a></li>
	</ul>		
</nav>
	<section class="articles dark">
		<script type="text/javascript">
  var idcomments_acct = '9485e3d1ca4f30d30b14d9171a8b93b7';
  var idcomments_post_id;
  var idcomments_post_url;
</script>
<article>
	<h1>Cambiar el idioma a selenium</h1>
	<span class="date">
		Aug 14, 2010
	</span>
	 <a rel="tag" href="/tag/rails/">rails</a>&nbsp; <a rel="tag" href="/tag/testing/">testing</a>&nbsp; <a rel="tag" href="/tag/capybara/">capybara</a>&nbsp; <a rel="tag" href="/tag/selenium/">selenium</a>&nbsp;

	<p>Ayer me encontré con un problema haciendo tests para un pet-project que estoy haciendo con Rails3 3.0.0.rc. Parece ser que a partir de la versión 1.0.0.beta.9 de <a href='http://github.com/carlhuda/bundler' title='Bundler'>bundler</a>, culerity lanza un error a la hora de crear el browser con celerity. Mientras investigo el problema, no quería dejar el desarrollo parado, así que decidí cambiar el driver de <a href='http://github.com/jnicklas/capybara' title='Capybara'>capybara</a> a selenium. Pero el firefox que trae el driver de selenium integrado se me ejecutaba en castellano, y yo tengo los tests escritos en inglés, por lo que fallaban. Tras twittear buscando ayuda, <a href='http://twitter.com/pacoguzman/status/21053477686' title='@pacoguzman tweet'>@pacoguzman me pasó un link</a>(gracias!) de la gente de <a href='http://teambox.com/' title='Teambox'>Teambox</a> que tenía la clave para solucionarlo.</p>

<p>Lo solución consiste en extraer el profile del driver de selenium, pasarle la nueva clave del idioma, y volver a asignar el profile al driver de selenium. La clave que había que pasar era &#8216;intl.accept_languages&#8217; (sacado de hacer un about:config en mi Firefox y buscar un poco) junto con el lenguaje que quieras usarlo, en mi caso &#8216;en&#8217;. Como yo estoy usando <a href='http://github.com/cavalle/steak' title='Steak'>Steak</a> para mis test de aceptación, incorporé el código en el archivo de configuración &#8216;spec/acceptance/acceptance_helper.rb&#8217;:</p>
<div class='highlight'><pre><code class='ruby'><span class='no'>Capybara</span><span class='o'>::</span><span class='no'>Driver</span><span class='o'>::</span><span class='no'>Selenium</span><span class='o'>.</span><span class='n'>class_eval</span> <span class='k'>do</span>
  <span class='k'>class</span> <span class='o'>&lt;&lt;</span> <span class='nb'>self</span>
    <span class='k'>def</span> <span class='nf'>driver</span>
      <span class='vi'>@driver</span> <span class='o'>||=</span> <span class='k'>begin</span>
        <span class='n'>profile</span> <span class='o'>=</span> <span class='no'>Selenium</span><span class='o'>::</span><span class='no'>WebDriver</span><span class='o'>::</span><span class='no'>Firefox</span><span class='o'>::</span><span class='no'>Profile</span><span class='o'>.</span><span class='n'>new</span> 
        <span class='n'>profile</span><span class='o'>[</span><span class='s1'>&#39;intl.accept_languages&#39;</span><span class='o'>]</span> <span class='o'>=</span> <span class='s1'>&#39;en&#39;</span>
        <span class='n'>driver</span> <span class='o'>=</span> <span class='no'>Selenium</span><span class='o'>::</span><span class='no'>WebDriver</span><span class='o'>.</span><span class='n'>for</span> <span class='ss'>:firefox</span><span class='p'>,</span> <span class='ss'>:profile</span> <span class='o'>=&gt;</span> <span class='n'>profile</span>
        <span class='nb'>at_exit</span> <span class='p'>{</span> <span class='n'>driver</span><span class='o'>.</span><span class='n'>quit</span> <span class='p'>}</span>
        <span class='n'>driver</span>
      <span class='k'>end</span>
    <span class='k'>end</span>
  <span class='k'>end</span>
<span class='k'>end</span>
</code></pre>
</div>
<p>Y listo, selenium en inglés y todos los tests pasando!</p>
	
</article>
<div class="comments">
  <span id="IDCommentsPostTitle" style="display:none"></span>
  <script type='text/javascript' src='http://www.intensedebate.com/js/genericCommentWrapperV2.js' charset='utf-8'></script>
</div>
	</section>
	<section id="contact" class="light">
		<div class="content">
	<h1 id="contact_me!">¡Contáctame!</h1>
	<p>No dudes en ponerte en contacto conmigo para cualquier cosa que puedas necesitar.</p>
	<ul>
		<li class="mail">Escríbeme a mi email, <a href="mailto:fer@ferdev.com"><strong>fer@ferdev.com</strong></a>.</li>
		<li class="twitter"><a href="http://twitter.com/ferdev"><strong>Sígueme</strong></a> en twitter.</li>
		<li class="facebook">O quizá eres más de <a href="http://www.facebook.com/fernando.espinosa">Facebook</a>...</li>
		<li class="linkedin">Mi perfil en <a href="http://es.linkedin.com/in/fernandoespinosajimenez"><strong>Linked In</strong></a>.</li>
		<li class="xing">Y en <a href="http://www.xing.com/profile/Fernando_EspinosaJimenez"><strong>Xing</strong></a>.</li>
	</ul>
</div>
	</section>
	<section id="about" class="dark">
		<div class="content">
	<h1 id="sobre_mi">Sobre mí.</h1>

	<h2 id="quien_soy">¿Quién soy?</h2>

	<p>Me llamo Fernando Espinosa, un tío de Madrid apasionado con el desarrollo web, <a href="http://rubyonrails.org/" title="Ruby on Rails">Ruby on Rails</a> y las <a href="http://en.wikipedia.org/wiki/Outside-in_software_development" title="Outside-in development">metodologías ágiles.</a></p>

	<h2 id="de_donde_vengo">¿De dónde vengo?</h2>

	<p>Mi primer contacto con el mundo de la programación vino cuando era solo un niño, de manos de un Amstrad CPC-6128 y un libro de Basic. A partir de ahí, pasé por lenguajes como Logo, Pascal, Fortran, C, Javascript, php, Java, C# y Ruby. He tenido la suerte de trabajar durante muchos años en algunas de las más importantes empresas del sector, como Soluziona o <a href="http://www.indra.es" title="Indra">Indra</a> entre otras. Puedes ver mi curriculum en <a href="http://www.xing.com/profile/Fernando_EspinosaJimenez" title="Fernando Espinosa Jiménez"><img src="/images/icons/social/xing.png" alt="Xing - Fernando Espinosa" /></a><a href="http://www.xing.com/profile/Fernando_EspinosaJimenez" title="Fernando Espinosa Jiménez">Xing</a> o <a href="http://es.linkedin.com/in/fernandoespinosajimenez" title="Fernando Espinosa Jiménez"><img src="/images/icons/social/linkedin.png" alt="Linked In - Fernando Espinosa" /></a><a href="http://es.linkedin.com/in/fernandoespinosajimenez" title="Fernando Espinosa Jiménez">Linkedin</a>.</p>

	<h2 id="que_es_lo_que_hago">¿Qué es lo que hago?</h2>

	<p>Desarrollo aplicaciones web, poniendo todos mis esfuerzos en crear aplicaciones usables, con interfaces de usuario limpios y atractivos.</p>

	<h2 id="como_lo_hago">¿Cómo lo hago?</h2>

	<p>Con la ayuda de <a href="http://es.wikipedia.org/wiki/Desarrollo_ágil_de_software">metodologías ágiles</a>, prototipando desde el inicio del desarrollo, y manteniendo una comunicación continua con mis clientes.</p>

	<h2 id="que_herramientas_uso">¿Qué herramientas uso?</h2>

	<p>Estas son con las que me siento más cómodo:</p>

	<ul>
  	<li><a href="http://rubyonrails.org/">Ruby on Rails</a></li>
  	<li><a href="http://jquery.com/">jQuery</a></li>
  	<li>HTML</li>
  	<li>CSS2 and CSS3</li>
  	<li>Mac OSX o Gentoo</li>
  	<li><a href="http://git-scm.com/" title="Git">Git</a></li>
  	<li><a href="http://pivotaltracker.com/" title="Pivotal tracker">Pivotal Tracker</a></li>
	</ul>

	<p>Lo siento, pero no estoy interesado en proyectos en Java, .NET o php ;-)</p>

	<h2 id="contratarme">Contratarme.</h2>

	<p>¿Necesitas un programador web freelance y mi perfil te ha interesado?</p>
	<p><a href="#contact">Cuéntame</a> las necesidades de tu proyecto y me pondré inmediatamente en contacto contigo para darte un presupuesto detallado.</p>

</div>
	</section>
	<section id="portfolio" class="light">
		<div class="content">
	<h1 id="my_portfolio.">Mi portfolio.</h1>
	<p>
	  Estos son los proyectos en los que he estado trabajando últimamente:
	</p>
	<ul id="portfolio_projects">
		<li class="project">
			<h3>Loovrs.com</h3>
			<div>
				<img src="/images/portfolio/loovrs.jpg" alt="Loovrs" title="Loovrs"/>
				<ul class="project_data">
					<li>Portal de búsqueda de pareja.</li>
					<li>xhtml / css / jQuery / Ruby on Rails</li>
					<li><a href="http://www.loovrs.com" title="loovrs.com">http://www.loovrs.com</a></li>
				</ul>
			</div>		
		</li>
		<li class="project">
			<h3>FerDev.com</h3>
			<div>
				<img src="/images/portfolio/ferdev.jpg" alt="FerDev" title="FerDev"/>
				<ul class="project_data">
					<li>Tema de wordpress</li>
					<li>xhtml / css / jQuery / php</li>
					<li><a href="http://www.ferdev.com" title="ferdev.com">http://www.ferdev.com</a></li>
				</ul>
			</div>		
		</li>
		<li class="project">
			<h3>FerDev.com</h3>
			<div>
				<img src="/images/portfolio/ferdev.jekyll.jpg" alt="FerDev" title="FerDev"/>
				<ul class="project_data">
					<li>Migración de wordpress a <a href="http://jekyllrb.com/" title="Jekyll">Jekyll</a></li>
					<li>html5 / css2 - css3 / jQuery / <a href="http://www.liquidmarkup.org/" title="Liquid template system">Liquid</a> / Ruby</li>
					<li><a href="http://www.ferdev.com" title="ferdev.com">http://www.ferdev.com</a></li>
				</ul>
			</div>
		</li>
	</ul>
</div>

	</section>
	<footer id="footer" class="dark">
		<div class="content">
	<ul>
		<li>Diseñado por <a href="/" title="ferdev.com">ferdev.com</a>.</li>
		<li>'Social icons' por <a href="http://www.komodomedia.com/" title="Komodo Media">Komodo Media</a>.</li>
		<li><a href="http://github.com/ferdev/ferdev">Código fuente</a>.</li>
	</ul>
	<span>Copyright © 2010 Fernando Espinosa</span>
</div>
	</footer>
	<script type="text/javascript" src="http://use.typekit.com/ftm1uau.js"></script>
<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js" type="text/javascript" charset="utf-8"></script>
<script src="/javascripts/lib/preload_images.js" type="text/javascript" charset="utf-8"></script>
<script src="/javascripts/lib/jquery.easing.js" type="text/javascript" charset="utf-8"></script>
<script src="/javascripts/ferdev.init.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
	var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
	document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
	try {
		var pageTracker = _gat._getTracker("UA-6392398-3");
		pageTracker._trackPageview();
	} catch(err) {}
</script>
<script src="http://static.getclicky.com/js" type="text/javascript"></script>
<script type="text/javascript">clicky.init(228737);</script>
<noscript><p><img alt="Clicky" width="1" height="1" src="http://in.getclicky.com/228737ns.gif" /></p></noscript>
</body>
</html>