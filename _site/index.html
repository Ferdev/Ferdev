<!DOCTYPE HTML>
<html>
<head>
	<title>Freelance Ruby on Rails developer. </title>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
	<link rel="stylesheet" type="text/css" media="screen" href="/stylesheets/reset.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="/stylesheets/style.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="/stylesheets/pygments.css" />
	<meta name="description" content="I'm a freelance agile web developer, specialized in Ruby on Rails, jQuery, user interfaces and usability." />
	<meta name="keywords" content="ruby on rails, jquery, usability, html, css, css2, css3, javascript" />
	<link rel="canonical" href="http://www.ferdev.com" />
	<link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="/atom.xml" />
	<link rel="alternate" type="application/rss+xml" title="RSS" href="/rss.xml" />
</head>
<body id="blog">
	<header class="dark">
	<hgroup>
		<h1><a class="title" href="/" title="Home" rel="home"><img src="/images/logo.gif" alt="ferdev.com" width="59" height="59" />Ferdev</a></h1>
		<h3>Freelance Ruby on Rails developer</h3>
	</hgroup>
</header>
<ul id="contact_icons">
  <li class="twitter"><a href="http://twitter.com/ferdev" title="Twitter - Ferdev">Follow me!</a></li>
  <li class="mail"><a href="mailto:fer@ferdev.com" title="E-Mail - Ferdev">Send me an e-mail!</a></li>
</ul>
	<nav>
	<ul id="menu">
		<li><a href="#blog" title="Portfolio" rel="nofollow">Blog</a></li>
		<li><a id="contact_button" href="#contact" title="Contact" rel="nofollow">Contact</a></li>
		<li><a href="#about" title="About me" rel="nofollow">About me</a></li>
		<li><a href="#portfolio" title="Portfolio" rel="nofollow">Portfolio</a></li>
		<li><a href="#footer" title="Footer" rel="nofollow">Footer</a></li>
	</ul>		
</nav>
	<section class="articles dark">
		
<article>
	<h1>
	    <a href="/2010/07/05/blog-migrado-a-jekyll.html">Blog migrado a Jekyll</a>
	</h1>
	<span class="date">
		Jul 05, 2010
	</span>
	 <a rel="tag" href="/tag/blog/">blog</a>&nbsp; <a rel="tag" href="/tag/jekyll/">jekyll</a>&nbsp;
	<p>La semana pasada me lié la manta a la cabeza y me puse a migrar todo el blog de Wordpress a <a href='http://jekyllrb.com/' title='transform your texto into a monster'>Jekyll</a>. Los motivos que me han llevado a moverlo a Jekyll son dos: velocidad y sencillez. Jekyll es un generador de sitios web estáticos programado en ruby. Jekyll genera a partir de plantillas y ficheros <a href='http://daringfireball.net/projects/markdown/' title='Markdown'>markdown</a> o <a href='http://textile.thresholdstate.com/' title='Textile'>textile</a>, ficheros html y xml (entre otras cosas). Al ser contenido estático, pierdes algunas cosas como el sistema de comentarios. Pero con <a href='http://disqus.com/' title='Disqus'>Disqus</a> o <a href='http://intensedebate.com/' title='Intense Debate'>IntenseDebate</a> queda solucionado el problema.</p>

<p>De paso he aprovechado para hacer un pequeño rediseño, y ahora tengo todo el contenido de la web en el mismo html, y mediante un pequeño javascript se realiza el scroll entre las diferentes secciones. Simplemente obtiene el atributo &#8216;href&#8217; del enlace, obtiene el elemento al que referencia y su offset vertical, y anima el desplazamiento del cursor principal hasta esa posición. Además degrada bien si el usuario no tiene el javascript activado.</p>
<div class='highlight'><pre><code class='javascript'><span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;#menu li a&#39;</span><span class='p'>).</span><span class='nx'>live</span><span class='p'>(</span><span class='s1'>&#39;click&#39;</span><span class='p'>,</span> <span class='kd'>function</span><span class='p'>(</span><span class='nx'>evt</span><span class='p'>){</span>
  <span class='nx'>evt</span><span class='p'>.</span><span class='nx'>preventDefault</span><span class='p'>();</span>
  <span class='kd'>var</span> 
    <span class='nx'>destination_id</span> <span class='o'>=</span> <span class='nx'>$</span><span class='p'>(</span><span class='k'>this</span><span class='p'>).</span><span class='nx'>attr</span><span class='p'>(</span><span class='s1'>&#39;href&#39;</span><span class='p'>),</span>
    <span class='nx'>scrollTo</span>       <span class='o'>=</span> <span class='nx'>$</span><span class='p'>(</span><span class='nx'>destination_id</span><span class='p'>).</span><span class='nx'>offset</span><span class='p'>().</span><span class='nx'>top</span><span class='p'>;</span>
  <span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;html,body&#39;</span><span class='p'>).</span><span class='nx'>animate</span><span class='p'>({</span><span class='nx'>scrollTop</span><span class='o'>:</span> <span class='nx'>scrollTo</span><span class='p'>},</span> <span class='mi'>2000</span><span class='p'>,</span> <span class='s1'>&#39;easeInOutExpo&#39;</span><span class='p'>);</span>
<span class='p'>});</span>
</code></pre>
</div>
<p>He publicado el código fuente del blog por si queréis echarle un vistazo (aunque no tiene gran cosa que ver). Todavía no está terminado, faltan algunas cosas como la paginación de posts y algunos retoques más, pero como ya es funcional me he decidido a publicarlo.</p>
</article>

<article>
	<h1>
	    <a href="/2010/05/10/rightjs-un-framework-javascript-muy-interesante.html">RightJS, un framework javascript muy interesante</a>
	</h1>
	<span class="date">
		May 10, 2010
	</span>
	 <a rel="tag" href="/tag/javascript/">javascript</a>&nbsp; <a rel="tag" href="/tag/rightjs/">rightjs</a>&nbsp; <a rel="tag" href="/tag/frameworks/">frameworks</a>&nbsp;
	<p>Llevaba tiempo queriendo escribir acerca de este framework javascript, uno de los más interesantes del momento. Quizá no sea tan conocido como jQuery o MooTools, pero en mi opinión merece estar tan arriba como ellos. Además, ciertos elementos de su sintaxis resultarán familiares a los rubistas. Más adelante explicaré cuales.</p>

<p>La mejor manera de hablar de <a href='http://rightjs.org' title='The Right JavaScript Framework'>RightJS</a> es comentar sus características principales:</p>

<ul>
<li>
<p>Sintaxis sencilla y curva de aprendizaje baja. Si ya conoces otro framework como jQuery o Prototype, te costará muy poco aprender RightJS.</p>
</li>

<li>
<p><strong>Posiblemente</strong>, el más rápido de todos los frameworks JavaScript. Difícil de demostrar, pero <a href='http://rightjs.org/benchmarks'>diversos tests</a> parecen corroborarlo. No sé si el más rápido, pero desde luego es rapidísimo.</p>
</li>

<li>
<p>Llamadas a funciones por nombre. Muchas veces tenemos el típico callback para acceder a un método del propio objeto. Con RightJS no necesitaremos dicho callback, símplemente pasaremos el nombre de la función como string.</p>
</li>
</ul>
<div class='highlight'><pre><code class='javascript'><span class='c1'>// Modo habitual</span>
<span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;element&#39;</span><span class='p'>).</span><span class='nx'>onClick</span><span class='p'>(</span><span class='kd'>function</span><span class='p'>()</span> <span class='p'>{</span>
  <span class='k'>this</span><span class='p'>.</span><span class='nx'>hide</span><span class='p'>();</span>
<span class='p'>});</span>

<span class='c1'>// Usando llamadas por nombre</span>
<span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;element&#39;</span><span class='p'>).</span><span class='nx'>onClick</span><span class='p'>(</span><span class='s1'>&#39;hide&#39;</span><span class='p'>);</span>
</code></pre>
</div>
<ul>
<li>Soporte en navegadores más antiguos de la última especificación JavaScript/ECMAScript. Por ejemplo:</li>
</ul>

<p><a href='http://rightjs.org/docs/array#filter'><strong>Array#filter</strong></a>:</p>
<div class='highlight'><pre><code class='javascript'><span class='kd'>var</span> <span class='nx'>strings</span> <span class='o'>=</span> <span class='p'>[</span><span class='s1'>&#39;anny&#39;</span><span class='p'>,</span> <span class='s1'>&#39;manny&#39;</span><span class='p'>,</span> <span class='s1'>&#39;banny&#39;</span><span class='p'>,</span> <span class='s1'>&#39;bob&#39;</span><span class='p'>];</span>

<span class='nx'>strings</span><span class='p'>.</span><span class='nx'>filter</span><span class='p'>(</span><span class='kd'>function</span><span class='p'>(</span><span class='nx'>string</span><span class='p'>,</span> <span class='nx'>i</span><span class='p'>)</span> <span class='p'>{</span>
  <span class='k'>return</span> <span class='nx'>string</span><span class='p'>.</span><span class='nx'>length</span> <span class='o'>&gt;</span> <span class='p'>(</span><span class='nx'>i</span><span class='o'>+</span><span class='mi'>1</span><span class='p'>);</span>
<span class='p'>});</span>
<span class='c1'>// -&gt; [&#39;anny&#39;, &#39;manny&#39;, &#39;banny&#39;];</span>

<span class='nx'>strings</span><span class='p'>.</span><span class='nx'>filter</span><span class='p'>(</span><span class='s1'>&#39;match&#39;</span><span class='p'>,</span> <span class='sr'>/[a-z]ann/</span><span class='p'>);</span>
<span class='c1'>// -&gt; [&#39;manny&#39;, &#39;banny&#39;]</span>
</code></pre>
</div>
<p><a href='http://rightjs.org/docs/array#map'><strong>Array#map</strong></a>:</p>
<div class='highlight'><pre><code class='javascript'><span class='kd'>var</span> <span class='nx'>strings</span> <span class='o'>=</span> <span class='p'>[</span><span class='s1'>&#39;anny&#39;</span><span class='p'>,</span> <span class='s1'>&#39;banny&#39;</span><span class='p'>,</span> <span class='s1'>&#39;manny&#39;</span><span class='p'>];</span>

<span class='nx'>strings</span><span class='p'>.</span><span class='nx'>map</span><span class='p'>(</span><span class='kd'>function</span><span class='p'>(</span><span class='nx'>string</span><span class='p'>,</span> <span class='nx'>i</span><span class='p'>)</span> <span class='p'>{</span>
  <span class='k'>return</span> <span class='p'>(</span><span class='nx'>i</span><span class='o'>+</span><span class='mi'>1</span><span class='p'>)</span><span class='o'>+</span><span class='s1'>&#39;. &#39;</span><span class='o'>+</span><span class='nx'>string</span><span class='p'>;</span>
<span class='p'>});</span>

<span class='c1'>// -&gt; [&#39;1. anny&#39;, &#39;2. banny&#39;, &#39;3. manny&#39;];</span>

<span class='nx'>strings</span><span class='p'>.</span><span class='nx'>map</span><span class='p'>(</span><span class='s1'>&#39;capitalize&#39;</span><span class='p'>);</span>

<span class='c1'>// -&gt; [&#39;Anny&#39;, &#39;Banny&#39;, &#39;Manny&#39;];</span>

<span class='nx'>strings</span><span class='p'>.</span><span class='nx'>map</span><span class='p'>(</span><span class='s1'>&#39;replace&#39;</span><span class='p'>,</span> <span class='s1'>&#39;nn&#39;</span><span class='p'>,</span> <span class='s1'>&#39;b&#39;</span><span class='p'>);</span>

<span class='c1'>// -&gt; [&#39;aby&#39;, &#39;baby&#39;, &#39;maby&#39;];</span>
</code></pre>
</div>
<p><a href='http://rightjs.org/docs/string#trim'><strong>String#trim</strong></a>:</p>
<div class='highlight'><pre><code class='javascript'><span class='s1'>&#39; asdf &#39;</span><span class='p'>.</span><span class='nx'>trim</span><span class='p'>();</span> <span class='c1'>// -&gt; &#39;asdf&#39;</span>
</code></pre>
</div>
<ul>
<li>Extensión del core de JavaScript con algunos métodos que sonarán a muchos rubistas:</li>
</ul>

<p><a href='http://rightjs.org/docs/array#compact'><strong>Array#compact</strong></a>:</p>
<div class='highlight'><pre><code class='javascript'><span class='p'>[</span><span class='kc'>null</span><span class='p'>,</span> <span class='mi'>0</span><span class='p'>,</span> <span class='kc'>undefined</span><span class='p'>,</span> <span class='mi'>1</span><span class='p'>,</span> <span class='mi'>2</span><span class='p'>,</span> <span class='mi'>3</span><span class='p'>,</span> <span class='kc'>null</span><span class='p'>].</span><span class='nx'>compact</span><span class='p'>();</span>

<span class='c1'>// -&gt; [0, 1, 2, 3];</span>
</code></pre>
</div>
<p><a href='http://rightjs.org/docs/string#endsWith'><strong>String#endsWith</strong></a>:</p>
<div class='highlight'><pre><code class='javascript'><span class='s1'>&#39;image.gif&#39;</span><span class='p'>.</span><span class='nx'>endsWith</span><span class='p'>(</span><span class='s1'>&#39;.gif&#39;</span><span class='p'>);</span>       <span class='c1'>// -&gt; true</span>

<span class='s1'>&#39;image.gif&#39;</span><span class='p'>.</span><span class='nx'>endsWith</span><span class='p'>(</span><span class='s1'>&#39;.GIF&#39;</span><span class='p'>);</span>       <span class='c1'>// -&gt; false</span>
<span class='s1'>&#39;image.gif&#39;</span><span class='p'>.</span><span class='nx'>endsWith</span><span class='p'>(</span><span class='s1'>&#39;.GIF&#39;</span><span class='p'>,</span> <span class='kc'>true</span><span class='p'>);</span> <span class='c1'>// -&gt; true</span>
</code></pre>
</div>
<ul>
<li>Manejo de números simplificado.</li>
</ul>
<div class='highlight'><pre><code class='javascript'><span class='c1'>// Conversión de string a number</span>
<span class='s1'>&#39;123&#39;</span><span class='p'>.</span><span class='nx'>toInt</span><span class='p'>();</span>   <span class='c1'>// -&gt; 123</span>
<span class='s1'>&#39;1.3&#39;</span><span class='p'>.</span><span class='nx'>toFloat</span><span class='p'>();</span> <span class='c1'>// -&gt; 1.3</span>

<span class='c1'>// Manejo de números</span>
<span class='mf'>1.4</span><span class='p'>.</span><span class='nx'>floor</span><span class='p'>();</span> <span class='c1'>// -&gt; 1</span>
<span class='mf'>1.4</span><span class='p'>.</span><span class='nx'>ceil</span><span class='p'>();</span>  <span class='c1'>// -&gt; 2</span>
<span class='mf'>1.4</span><span class='p'>.</span><span class='nx'>round</span><span class='p'>();</span> <span class='c1'>// -&gt; 1</span>
</code></pre>
</div>
<ul>
<li>Aunque JavaScript ya es un lenguaje orientado a objetos, la clase <code>Class</code> hace más sencilla la herencia, implementación de interfaces, etc.</li>
</ul>
<div class='highlight'><pre><code class='javascript'><span class='kd'>var</span> <span class='nx'>Klass</span> <span class='o'>=</span> <span class='k'>new</span> <span class='nx'>Class</span><span class='p'>(</span><span class='nx'>AnotherClass</span><span class='p'>,</span> <span class='p'>{</span>
  <span class='nx'>include</span><span class='o'>:</span> <span class='nx'>Module1</span><span class='p'>,</span>
  <span class='nx'>extend</span><span class='o'>:</span>  <span class='nx'>Module2</span><span class='p'>,</span>

  <span class='nx'>initialize</span><span class='o'>:</span> <span class='kd'>function</span><span class='p'>()</span> <span class='p'>{</span>
    <span class='c1'>//....</span>
  <span class='p'>}</span>
<span class='p'>});</span>
</code></pre>
</div>
<ul>
<li>Y también: <a href='http://rightjs.org/docs/form#send' title='Form#send'>envío</a> simplificado de formularios, uso de spinners automáticos en peticiones AJAX, manejo unificado de <a href='http://rightjs.org/tutorials/uniformed-events-handling'>eventos</a> y <a href='http://rightjs.org/tutorials/uniformed-options-handling'>opciones</a> de métodos, arquitectura abierta, soporte para <a href='http://rightjs.org/plugins'>plugins</a>, y una <a href='http://github.com/MadRabbit/right-rails'>gema</a> para facilitar la integración con Rails (soporta Rails3).</li>
</ul>

<p>Como véis, es un framework al que merece la pena echarle un vistazo. Sobre todo si eres un desarrollador de back que no te sientes muy cómodo con la parte front (está orientado principalmente a desarrolladores Rails, como se puede ver). Creo que bien merece uno de vuestros PetProjects ;-)</p>
</article>

<article>
	<h1>
	    <a href="/2010/03/23/rediseno-del-blog-y-freelanceo.html">Rediseño del blog y freelanceo</a>
	</h1>
	<span class="date">
		Mar 23, 2010
	</span>
	 <a rel="tag" href="/tag/redesign/">redesign</a>&nbsp; <a rel="tag" href="/tag/freelance/">freelance</a>&nbsp;
	<p>La semana pasada he estado dándole un pequeño rediseño al blog. El diseño que había era el resultante de haber hecho unas cuantas pruebas, y al final por falta de tiempo no había podido cambiarlo. Quería algo minimalista, con buena legibilidad, y con el menor número de imágenes posible.</p>

<p>De hecho, la única imagen es el nuevo logo (a excepción de los iconos de social media, que son de <a href='http://www.komodomedia.com/' title='Komodo Media'>Komodo Media</a>). Y he creado un logo porque me embarco en la aventura del desarrollo freelance, y éste será mi nueva identidad visual. Últimamente estoy viendo mucha gente que se dedica a ello y me he decidido a dar el salto. Así que si alguien necesita un desarrollador Ruby on Rails, javascript, php, java o .NET, aquí me tenéis!</p>
</article>

<article>
	<h1>
	    <a href="/2010/03/10/testing-ajaxupload-con-capybara-culerity.html">Testing AjaxUpload con Capybara + Culerity</a>
	</h1>
	<span class="date">
		Mar 10, 2010
	</span>
	 <a rel="tag" href="/tag/rails/">rails</a>&nbsp; <a rel="tag" href="/tag/ruby/">ruby</a>&nbsp; <a rel="tag" href="/tag/capybara/">capybara</a>&nbsp; <a rel="tag" href="/tag/culerity/">culerity</a>&nbsp; <a rel="tag" href="/tag/testing/">testing</a>&nbsp; <a rel="tag" href="/tag/ajaxupload/">ajaxupload</a>&nbsp;
	<p>Llevo unos días probando <a href='http://github.com/jnicklas/capybara'>Capybara</a> después de los comentarios tan buenos que había escuchado de él en <a href='http://twitter.com/albertoperdomo/status/9643469318'>twitter</a> últimamente, especialmente de su integración con <a href='http://github.com/langalex/culerity'>Culerity</a>. Los hados además trataban de decirme algo porque la última <a href='http://github.com/porras/madrid-rb-feb-2010'>charla</a> de <a href='http://twitter.com/madridrb'>madridrb</a> que dio <a href='http://twitter.com/porras'>@porras</a> versaba sobre esto mismo (y <a href='http://github.com/cavalle/steak'>Steak</a>, que también estoy probando y me está gustando mucho). Por cierto que debería haber ido a la charla (pero no pude :-() porque seguro que me hubiese ahorrado muchos de los problemas que me encontré.</p>

<p>Los primeros vinieron con la instalación. Culerity es un recubrimiento (que poco me gusta esta palabra) de <a href='http://github.com/jarib/celerity'>Celerity</a>, que a su vez es otro recubrimiento de <a href='http://htmlunit.sourceforge.net/'>HtmlUnit</a>, un navegador web sin interfaz gráfico programado en Java. Y debido a esto, necesitas Jruby para instalar la gema de Celerity. Pues bien, rvm y todo este tinglado no se llevan demasiado bien. Y aunque hay un <a href='http://rvm.beginrescueend.com/integration/culerty/'>hack</a> para salir al paso, a mi no me valía del todo (a parte que no me gustaba mucho que digamos) porque yo no estaba usando Cucumber sino Steak (requisito para que funcione el Hack). Al final conseguí hacerlo funcionar instalando Jruby mediante Macports. No sé si me dará problemas en el futuro, pero hasta que Culerity y rvm se lleven mejor, me gusta más esta solución que andar cambiando variables de entorno en cada test.</p>

<p>La aplicación con la que estaba haciendo las pruebas tiene una carga de javascript muy alta, y los primeros problemas que me dieron los tests lo achacaba a esto. &#8220;Demasiado javascript&#8221;, pensaba para mis adentros cuando al testear una petición ajax me daba un error con la respuesta en formato JSON. Dándole vueltas y más vueltas, a punto de desinstalarlo todo porque no conseguía solucionarlo, di con la solución no recuerdo muy bien dónde: la última versión de Celerity (0.7.9) usaba una versión de HtmlUnit con algunos bugs, y recomendaban instalar la versión <strong>0.7.4</strong>. Pues mano de santo oiga :-)</p>

<p>Y llegamos al quid de la cuestión: probar <a href='http://valums.com/ajax-upload/'>AjaxUpload</a> con Capybara + Culerity. Me ha costado un par de días hacerlo funcionar, y en realidad ha sido una tontería. No hacía falta más que detenerse un poco a pensar como funciona AjaxUpload por dentro.</p>

<p>AjaxUpload es un hack para simular una subida asíncrona de un archivo al servidor de nuestra página web. Para ello, se vale de los siguientes pasos:</p>

<ol>
<li>
<p>Se asocia al elemento de la página web que tú hayas definido (un enlace o un botón, por ejemplo).</p>
</li>

<li>
<p>Cuando se dispara el evento &#8220;mouseover&#8221; sobre ese elemento, crea un div transparente de las mismas dimensiones que el elemento y lo sitúa por encima de él. Cuando el usuario intente pulsar el elemento, será este div en realidad el que se vea pulsado.</p>
</li>

<li>
<p>Cuando el usuario hace click en el div, se genera el elemento input file y se abre el diálogo de selección de archivo.</p>
</li>

<li>
<p>En cuanto el usuario selecciona el fichero, AjaxUpload crea un formulario, le agrega el input file del paso anterior, y crea un iframe. Este iframe, será el &#8220;target&#8221; del formulario recien creado.</p>
</li>

<li>
<p>AjaxUpload envía el formulario (que hará la subida del fichero a través del iframe) y fin del proceso.</p>

<p>Mi problema venía con el diálogo de selección. No veía cómo conseguir seleccionar el archivo y pulsar el botón &#8220;Aceptar&#8221; del diálogo de selección. Sabía que la clase <em>Celerity::FileField</em> contaba con el método <em>Set</em>, con el que podía pasarle la ruta de un archivo&#8230; Pero no sé por qué me dio por pensar que si el diálogo estaba abierto, no funcionaría. Hasta que lo probé, y me di cuenta que Celerity establece la ruta del archivo y cierra la ventana de diálogo él solito. Así que, problema resuelto.</p>
</li>
</ol>

<p>Aquí va un pequeño trozo de código de como quedaría montado. He sacado los selectores principales a variables para que se entienda mejor. Ah! También decir que yo tengo configurado Capybara para que por defecto use selectores css :-)</p>
<div class='highlight'><pre><code class='ruby'><span class='c1'># selector del botón asociado a AjaxUpload</span>
<span class='n'>button_selector</span> <span class='o'>=</span> <span class='s1'>&#39;button#upload&#39;</span>
<span class='c1'># selector del div que contendrá al input file. Se posicionará justo encima de button_selector</span>
<span class='n'>div_selector</span> <span class='o'>=</span> <span class='s1'>&#39;div.ajaxupload_container&#39;</span>
<span class='c1'># selector del input file</span>
<span class='n'>input_selector</span> <span class='o'>=</span> <span class='s1'>&#39;div.ajaxupload_container input.ajaxupload&#39;</span>
<span class='c1'># ruta al archivo a subir</span>
<span class='n'>file_path</span> <span class='o'>=</span> <span class='s1'>&#39;image.jpg&#39;</span>

<span class='c1'># Simulamos el evento &#39;mouseover&#39; sobre el botón original asociado a AjaxUpload</span>
<span class='n'>find</span><span class='p'>(</span><span class='n'>button_selector</span><span class='p'>)</span><span class='o'>.</span><span class='n'>trigger</span><span class='p'>(</span><span class='ss'>:mouseover</span><span class='p'>)</span>

<span class='c1'># Comprobamos que se haya creado el div de AjaxUpload</span>
<span class='n'>page</span><span class='o'>.</span><span class='n'>should</span> <span class='n'>have_css</span><span class='p'>(</span><span class='n'>div_selector</span><span class='p'>)</span>

<span class='c1'># Hacemos click en el div para disparar la creación del input file</span>
<span class='n'>find</span><span class='p'>(</span><span class='n'>div_selector</span><span class='p'>)</span><span class='o'>.</span><span class='n'>click</span>

<span class='c1'># El input file debería haberse creado</span>
<span class='n'>page</span><span class='o'>.</span><span class='n'>should</span> <span class='n'>have_css</span><span class='p'>(</span><span class='n'>input_selector</span><span class='p'>)</span>

<span class='c1'># Le pasamos la ruta de archivo al input file</span>
<span class='n'>find</span><span class='p'>(</span><span class='n'>input_selector</span><span class='p'>)</span><span class='o'>.</span><span class='n'>set</span><span class='p'>(</span><span class='n'>file_path</span><span class='p'>)</span>
</code></pre>
</div>
<p>Y ya está! Una aclaración: he modificado AjaxUpload para que asigne una clase al div y al input file que crea y sea más sencillo seleccionarlos, ya que por defecto no les asigna identificador ni clases de ningún tipo.</p>
</article>

<article>
	<h1>
	    <a href="/2009/10/31/plugin-jquery-para-obtener-dimensiones-de-un-objeto.html">Plugin jQuery para obtener dimensiones de un objeto</a>
	</h1>
	<span class="date">
		Oct 31, 2009
	</span>
	 <a rel="tag" href="/tag/javascript/">javascript</a>&nbsp; <a rel="tag" href="/tag/jquery/">jquery</a>&nbsp; <a rel="tag" href="/tag/plugins/">plugins</a>&nbsp;
	<p>Hola!</p>

<p>Hace mucho que no escribo por aquí, no dispongo de demasiado tiempo&#8230; Como podéis ver, cuando saco unos minutos voy haciendo pruebas de diseño con el blog. Tengo intención de pasarlo a HTML5, usar CSS3 al máximo e intentar usar el menor número de imágenes posibles, a ver si lo consigo :D Bueno, al grano.</p>

<p>Trabajando en un proyecto me surgió la necesidad una vez de conocer las dimensiones (alto y ancho) de unos objetos ocultos que luego estaba agregando a otros elementos del DOM de mi página. El problema es que por diversas razones, necesitaba conocer su tamaño antes de agregarlos al objeto DOM, y jQuery, aunque cuenta con unos maravillosos métodos para obtener el tamaño de cualquier objeto (tanto tamaño exterior, contando el ancho de los bordes y demás, como el tamaño interior del objeto, sin bordes ni nada). El problema, es que si el objeto está oculto (display: none), jQuery no puede calcular el tamaño y te devolverá cero.</p>

<p>Hay una solución muy sencilla para esto. Agregas el objeto con el tamaño a calcular a una capa que tendremos posicionada en modo &#8220;absolute&#8221; y fuera de la vista del usuario (fuera del viewport del navegador), dándole una posición &#8220;left: -1000px&#8221; (por ejemplo). Así, el objeto no es necesario que esté oculto, jQuery podrá calcular sus dimensiones y no lo tendrás dentro del flujo de la página, por lo que no te descolocará nada.</p>

<p>Aquí os dejo el código del plugin, tal y como lo vengo usando en mi proyecto. Espero que os sea útil!</p>
<div class='highlight'><pre><code class='javascript'><span class='p'>;(</span><span class='kd'>function</span><span class='p'>(</span><span class='nx'>$</span><span class='p'>){</span>
<span class='nx'>$</span><span class='p'>.</span><span class='nx'>fn</span><span class='p'>.</span><span class='nx'>objectSize</span> <span class='o'>=</span> <span class='kd'>function</span><span class='p'>(){</span>

    <span class='kd'>function</span> <span class='nx'>calculateSize</span><span class='p'>(</span><span class='nx'>domNode</span><span class='p'>){</span>
        <span class='kd'>var</span> <span class='nx'>divSizer</span> <span class='o'>=</span> <span class='nx'>$</span><span class='p'>(</span><span class='nb'>document</span><span class='p'>.</span><span class='nx'>createElement</span><span class='p'>(</span><span class='s2'>&quot;div&quot;</span><span class='p'>))</span>
        <span class='p'>.</span><span class='nx'>attr</span><span class='p'>(</span><span class='s2'>&quot;id&quot;</span><span class='p'>,</span> <span class='s2'>&quot;sizer&quot;</span><span class='p'>)</span>
        <span class='p'>.</span><span class='nx'>css</span><span class='p'>({</span>           
            <span class='nx'>width</span><span class='o'>:</span> <span class='s1'>&#39;100%&#39;</span><span class='p'>,</span>
            <span class='nx'>height</span><span class='o'>:</span> <span class='s1'>&#39;100%&#39;</span><span class='p'>,</span>
            <span class='nx'>position</span><span class='o'>:</span> <span class='s1'>&#39;absolute&#39;</span><span class='p'>,</span>
            <span class='nx'>left</span><span class='o'>:</span> <span class='s1'>&#39;-10000px&#39;</span> 
        <span class='p'>}).</span><span class='nx'>appendTo</span><span class='p'>(</span><span class='s1'>&#39;body&#39;</span><span class='p'>),</span>
        <span class='nx'>size</span> <span class='o'>=</span> <span class='p'>{</span><span class='nx'>width</span><span class='o'>:</span> <span class='mi'>0</span><span class='p'>,</span> <span class='nx'>height</span><span class='o'>:</span> <span class='mi'>0</span><span class='p'>};</span>
    
        <span class='nx'>divSizer</span><span class='p'>.</span><span class='nx'>append</span><span class='p'>(</span><span class='nx'>domNode</span><span class='p'>);</span>
        <span class='nx'>size</span><span class='p'>.</span><span class='nx'>width</span> <span class='o'>=</span> <span class='nb'>parseInt</span><span class='p'>(</span><span class='nx'>domNode</span><span class='p'>.</span><span class='nx'>outerWidth</span><span class='p'>());</span>
        <span class='nx'>size</span><span class='p'>.</span><span class='nx'>height</span> <span class='o'>=</span> <span class='nb'>parseInt</span><span class='p'>(</span><span class='nx'>domNode</span><span class='p'>.</span><span class='nx'>outerHeight</span><span class='p'>());</span>
        <span class='nx'>divSizer</span><span class='p'>.</span><span class='nx'>remove</span><span class='p'>();</span>
        <span class='k'>delete</span> <span class='nx'>divSizer</span><span class='p'>;</span>
        <span class='k'>return</span> <span class='nx'>size</span><span class='p'>;</span>
    <span class='p'>}</span>

    <span class='k'>return</span> <span class='nx'>calculateSize</span><span class='p'>(</span><span class='nx'>$</span><span class='p'>(</span><span class='k'>this</span><span class='p'>[</span><span class='mi'>0</span><span class='p'>]));</span>
<span class='p'>};</span>
<span class='p'>})(</span><span class='nx'>jQuery</span><span class='p'>);</span>
</code></pre>
</div>
</article>


<div class="more_posts"><a href="#" rel="page2" title="More posts">More posts</a></div>

	</section>
	<section id="contact" class="light">
		<div class="content">
	<h1 id="contact_me!">Contact Me!</h1>
	<p>Feel free to contact me for anything you might need!</p>
	<ul>
		<li class="mail">Drop me some words at my email <a href="mailto:fer@ferdev.com"><strong>fer@ferdev.com</strong></a>.</li>
		<li class="twitter"><a href="http://twitter.com/ferdev"><strong>Follow me</strong></a> on twitter.</li>
		<li class="facebook">Or maybe you are a facebook person... here is <a href="facebook.com/fernando.espinosa"><strong>my profile</strong></a>.</li>
		<li class="linkedin">My profile at <a href="http://es.linkedin.com/in/fernandoespinosajimenez"><strong>Linked In</strong></a>.</li>
		<li class="xing">And at <a href="http://www.xing.com/profile/Fernando_EspinosaJimenez"><strong>Xing</strong></a>.</li>
	</ul>
</div>
	</section>
	<section id="about" class="dark">
		<div class="content">
	<h1 id="about_me">About me.</h1>

	<h2 id="who_am_i">Who am I?</h2>

	<p>My name is Fernando Espinosa, a <a href="http://maps.google.com/maps?f=q&amp;source=s_q&amp;hl=es&amp;geocode=&amp;q=madrid,+spain&amp;sll=37.0625,-95.677068&amp;sspn=51.621706,91.318359&amp;ie=UTF8&amp;hq=&amp;hnear=Madrid,+Comunidad+de+Madrid,+Espa%C3%B1a&amp;z=11" rel="nofollow">spanish</a> guy passionate with web development and specialized in usability.</p>

	<h2 id="where_do_i_came_from">Where do I came from?</h2>

	<p>I have been developing software professionally for more than ten years. My career goes through companies like Soluziona or <a href="http://www.indra.es" title="Indra">Indra</a> amongst others. You can see my resume at <a href="http://www.xing.com/profile/Fernando_EspinosaJimenez" title="Fernando Espinosa Jiménez"><img src="/images/icons/social/xing.png" alt="Xing - Fernando Espinosa" /></a><a href="http://www.xing.com/profile/Fernando_EspinosaJimenez" title="Fernando Espinosa Jiménez">Xing</a> or <a href="http://es.linkedin.com/in/fernandoespinosajimenez" title="Fernando Espinosa Jiménez"><img src="/images/icons/social/linkedin.png" alt="Linked In - Fernando Espinosa" /></a><a href="http://es.linkedin.com/in/fernandoespinosajimenez" title="Fernando Espinosa Jiménez">Xing</a>.</p>

	<h2 id="what_do_i_do">What do I do?</h2>

	<p>I develop web applications using agile methodologies and focusing on its usability. I do my best efforts creating clean, appealing and easy to use user interfaces. Without neglecting application features, of course.</p>

	<h2 id="how_do_i_do_it">How do I do it?</h2>

	<p>With the help of <a href="http://agilemanifesto.org/">agile methodologies</a>, prototyping since development starts and a fluent communication with the client, so I can respond his expectations and needs any time.</p>

	<h2 id="what_tools_do_i_use">What tools do I use?</h2>

	<p>These are the ones which I feel more comfortable with:</p>

	<ul>
	<li><a href="http://rubyonrails.org/">Ruby on Rails</a></li>
	<li><a href="http://jquery.com/">jQuery</a></li>
	<li>HTML</li>
	<li>CSS2 and CSS3</li>
	<li>Mac OSX or Gentoo</li>
	</ul>

	<p>Sorry, but I'm not interested in Java or PHP projects ;-).</p>

	<h2 id="about_hiring_me">About hiring me.</h2>

	<p>Do you need a freelance web developer and my profile has interested you? <a href="/contact/">Tell me</a> your needs and I&#8217;ll give you all details posible and a budget if needed.</p>

</div>
	</section>
	<section id="portfolio" class="light">
		<div class="content">
	<h1 id="my_portfolio.">My portfolio.</h1>
	<p>
	These are the projects I've been working on lately:
	</p>
	<ul id="portfolio_projects">
		<li class="project">
			<h3>Loovrs.com</h3>
			<div>
				<img src="/images/portfolio/loovrs.jpg" alt="Loovrs" title="Loovrs"/>
				<ul class="project_data">
					<li>Dating site</li>
					<li>xhtml / css / jQuery / Ruby on Rails</li>
					<li><a href="http://www.loovrs.com" title="loovrs.com">http://www.loovrs.com</a></li>
				</ul>
			</div>		
		</li>
		<li class="project">
			<h3>FerDev.com</h3>
			<div>
				<img src="/images/portfolio/ferdev.jpg" alt="FerDev" title="FerDev"/>
				<ul class="project_data">
					<li>Wordpress theme</li>
					<li>xhtml / css / jQuery / php</li>
					<li><a href="http://www.ferdev.com" title="ferdev.com">http://www.ferdev.com</a></li>
				</ul>
			</div>		
		</li>
		<li class="project">
			<h3>FerDev.com</h3>
			<div>
				<img src="/images/portfolio/ferdev.jekyll.jpg" alt="FerDev" title="FerDev"/>
				<ul class="project_data">
					<li>Migration from Wordpress to <a href="http://jekyllrb.com/" title="Jekyll">Jekyll</a></li>
					<li>html5 / css2 - css3 / jQuery / <a href="http://www.liquidmarkup.org/" title="Liquid template system">Liquid</a> / Ruby</li>
					<li><a href="http://www.ferdev.com" title="ferdev.com">http://www.ferdev.com</a></li>
				</ul>
			</div>
		</li>
	</ul>
</div>

	</section>
	<footer id="footer" class="dark">
		<div class="content">
	<ul>
		<li>Designed by <a href="/" title="ferdev.com">ferdev.com</a>.</li>
		<li>Social icons by <a href="http://www.komodomedia.com/" title="Komodo Media">Komodo Media</a>.</li>
		<li>Blog <a href="http://github.com/ferdev/ferdev">source</a>.</li>
	</ul>
	<span>Copyright © 2010 Fernando Espinosa</span>
</div>
	</footer>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js" type="text/javascript" charset="utf-8"></script>
<script src="/javascripts/lib/jquery.easing.js" type="text/javascript" charset="utf-8"></script>
<script src="/javascripts/ferdev.init.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
	var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
	document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
	try {
		var pageTracker = _gat._getTracker("UA-6392398-3");
		pageTracker._trackPageview();
	} catch(err) {}
</script>
<script src="http://static.getclicky.com/js" type="text/javascript"></script>
<script type="text/javascript">clicky.init(228737);</script>
<noscript><p><img alt="Clicky" width="1" height="1" src="http://in.getclicky.com/228737ns.gif" /></p></noscript>
</body>
</html>