<!DOCTYPE HTML>
<html>
<head>
  <title>Fernando Espinosa | Freelance ruby and iOS developer. Plugin jQuery para obtener dimensiones de un objeto</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  <link rel="stylesheet" type="text/css" media="screen" href="/stylesheets/ferdev.css" />
  <link rel="stylesheet" type="text/css" media="screen" href="/stylesheets/animations.css" />
  <link rel="stylesheet" type="text/css" media="screen" href="/stylesheets/glyphs.css" />
  <link rel="stylesheet" type="text/css" media="screen" href="/stylesheets/solarizeddark.css" />
  <meta name="description" content="I'm a freelance ruby and iOS developer based in Madrid, Spain. I love ruby and crafting beautiful apps with it." />
  <meta name="keywords" content="ruby, rails, ruby on rails, iOS, rubymotion, developer, freelance, freelance developer, freelance ruby, freelance rails, freelance ruby on rails, freelance iOS, freelance rubymotion, front-end, back-end, css, css3, javascript, jquery" />
  <link rel="canonical" href="http://www.ferdev.com" />
  <link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="/atom.xml" />
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/rss.xml" />
</head>
<body id="home">
  <header>
  <hgroup>

    <div class="photo">
      <div class="white_border">
      </div>
      <img src="/images/ferdev@2x.png" alt="Fernando Espinosa" width="65" height="65" />
    </div>

    <div class="name">
      <h3>fernando espinosa</h3>
      <h3>freelance ruby developer</h3>
    </div>

  </hgroup>
  <nav>
	<ul id="menu">
		<li><a href="/" title="home">home</a></li>
		<li><a href="/portfolio.html" title="portfolio">portfolio</a></li>
		<li><a href="/about-me.html" title="about me">about me</a></li>
		<li><a href="/hire-me.html" title="hiring me">hire me</a></li>
		<li><a href="/contact-me.html" title="contact">contact</a></li>
    <li class="top"><a href="#home" title="home">up</a></li>
	</ul>
</nav>

</header>

<section class="introduction">
  <div class="balloon_tail_small"></div>
  <div class="balloon_tail_medium"></div>
  <div class="balloon">
    <p class="hi"><strong>Hi!</strong></p>
    <p>
      I'm <strong>Fernando Espinosa</strong>, a <strong>developer</strong> based in Madrid, Spain.<br/>
      I <span>&#x2665;</span> <strong>ruby</strong> and crafting <strong>beautiful</strong> apps with it.
    </p>
  </div>
</section>


  <script type="text/javascript">
  var idcomments_acct = '9485e3d1ca4f30d30b14d9171a8b93b7';
  var idcomments_post_id;
  var idcomments_post_url;
</script>

<article>
  <h1>Plugin jQuery para obtener dimensiones de un objeto</h1>
   <a rel="tag" href="/tag/javascript/">javascript</a>&nbsp; <a rel="tag" href="/tag/jquery/">jquery</a>&nbsp; <a rel="tag" href="/tag/plugins/">plugins</a>&nbsp;

  <p>Hola!</p>

<p>Hace mucho que no escribo por aquí, no dispongo de demasiado tiempo&#8230; Como podéis ver, cuando saco unos minutos voy haciendo pruebas de diseño con el blog. Tengo intención de pasarlo a HTML5, usar CSS3 al máximo e intentar usar el menor número de imágenes posibles, a ver si lo consigo :D Bueno, al grano.</p>

<p>Trabajando en un proyecto me surgió la necesidad una vez de conocer las dimensiones (alto y ancho) de unos objetos ocultos que luego estaba agregando a otros elementos del DOM de mi página. El problema es que por diversas razones, necesitaba conocer su tamaño antes de agregarlos al objeto DOM, y jQuery, aunque cuenta con unos maravillosos métodos para obtener el tamaño de cualquier objeto (tanto tamaño exterior, contando el ancho de los bordes y demás, como el tamaño interior del objeto, sin bordes ni nada). El problema, es que si el objeto está oculto (display: none), jQuery no puede calcular el tamaño y te devolverá cero.</p>

<p>Hay una solución muy sencilla para esto. Agregas el objeto con el tamaño a calcular a una capa que tendremos posicionada en modo &#8220;absolute&#8221; y fuera de la vista del usuario (fuera del viewport del navegador), dándole una posición &#8220;left: -1000px&#8221; (por ejemplo). Así, el objeto no es necesario que esté oculto, jQuery podrá calcular sus dimensiones y no lo tendrás dentro del flujo de la página, por lo que no te descolocará nada.</p>

<p>Aquí os dejo el código del plugin, tal y como lo vengo usando en mi proyecto. Espero que os sea útil!</p>
<div class='highlight'><pre><code class='javascript'><span class='p'>;(</span><span class='kd'>function</span><span class='p'>(</span><span class='nx'>$</span><span class='p'>){</span>
<span class='nx'>$</span><span class='p'>.</span><span class='nx'>fn</span><span class='p'>.</span><span class='nx'>objectSize</span> <span class='o'>=</span> <span class='kd'>function</span><span class='p'>(){</span>

    <span class='kd'>function</span> <span class='nx'>calculateSize</span><span class='p'>(</span><span class='nx'>domNode</span><span class='p'>){</span>
        <span class='kd'>var</span> <span class='nx'>divSizer</span> <span class='o'>=</span> <span class='nx'>$</span><span class='p'>(</span><span class='nb'>document</span><span class='p'>.</span><span class='nx'>createElement</span><span class='p'>(</span><span class='s2'>&quot;div&quot;</span><span class='p'>))</span>
        <span class='p'>.</span><span class='nx'>attr</span><span class='p'>(</span><span class='s2'>&quot;id&quot;</span><span class='p'>,</span> <span class='s2'>&quot;sizer&quot;</span><span class='p'>)</span>
        <span class='p'>.</span><span class='nx'>css</span><span class='p'>({</span>           
            <span class='nx'>width</span><span class='o'>:</span> <span class='s1'>&#39;100%&#39;</span><span class='p'>,</span>
            <span class='nx'>height</span><span class='o'>:</span> <span class='s1'>&#39;100%&#39;</span><span class='p'>,</span>
            <span class='nx'>position</span><span class='o'>:</span> <span class='s1'>&#39;absolute&#39;</span><span class='p'>,</span>
            <span class='nx'>left</span><span class='o'>:</span> <span class='s1'>&#39;-10000px&#39;</span> 
        <span class='p'>}).</span><span class='nx'>appendTo</span><span class='p'>(</span><span class='s1'>&#39;body&#39;</span><span class='p'>),</span>
        <span class='nx'>size</span> <span class='o'>=</span> <span class='p'>{</span><span class='nx'>width</span><span class='o'>:</span> <span class='mi'>0</span><span class='p'>,</span> <span class='nx'>height</span><span class='o'>:</span> <span class='mi'>0</span><span class='p'>};</span>
    
        <span class='nx'>divSizer</span><span class='p'>.</span><span class='nx'>append</span><span class='p'>(</span><span class='nx'>domNode</span><span class='p'>);</span>
        <span class='nx'>size</span><span class='p'>.</span><span class='nx'>width</span> <span class='o'>=</span> <span class='nb'>parseInt</span><span class='p'>(</span><span class='nx'>domNode</span><span class='p'>.</span><span class='nx'>outerWidth</span><span class='p'>());</span>
        <span class='nx'>size</span><span class='p'>.</span><span class='nx'>height</span> <span class='o'>=</span> <span class='nb'>parseInt</span><span class='p'>(</span><span class='nx'>domNode</span><span class='p'>.</span><span class='nx'>outerHeight</span><span class='p'>());</span>
        <span class='nx'>divSizer</span><span class='p'>.</span><span class='nx'>remove</span><span class='p'>();</span>
        <span class='k'>delete</span> <span class='nx'>divSizer</span><span class='p'>;</span>
        <span class='k'>return</span> <span class='nx'>size</span><span class='p'>;</span>
    <span class='p'>}</span>

    <span class='k'>return</span> <span class='nx'>calculateSize</span><span class='p'>(</span><span class='nx'>$</span><span class='p'>(</span><span class='k'>this</span><span class='p'>[</span><span class='mi'>0</span><span class='p'>]));</span>
<span class='p'>};</span>
<span class='p'>})(</span><span class='nx'>jQuery</span><span class='p'>);</span>
</code></pre></div>

  <div class="date">
    <hr />
    <span>Oct 31, 2009</span>
    <hr />
  </div>

  <div id="comments">

    <!-- START: Livefyre Embed -->
    <div id="livefyre-comments"></div>
    <script type="text/javascript" src="http://zor.livefyre.com/wjs/v3.0/javascripts/livefyre.js"></script>
    <script type="text/javascript">
    (function () {
        var articleId = fyre.conv.load.makeArticleId(null);
        fyre.conv.load({}, [{
            el: 'livefyre-comments',
            network: "livefyre.com",
            siteId: "323683",
            articleId: articleId,
            signed: false,
            collectionMeta: {
                articleId: articleId,
                url: fyre.conv.load.makeCollectionUrl(),
            }
        }], function() {});
    }());
    </script>
    <!-- END: Livefyre Embed -->

  </div>
</article>


  <footer>
    Check the <a href="http://github.com/ferdev/ferdev">source code of this site on Github</a>.

  </footer>
  <script type="text/javascript" src="/javascripts/modernizer.js"></script>
<script type="text/javascript" src="/javascripts/ferdev.js"></script>
<script type="text/javascript" src="//use.typekit.net/jud5abl.js"></script>
<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
<script type="text/javascript">
	var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
	document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
	try {
		var pageTracker = _gat._getTracker("UA-6392398-3");
		pageTracker._trackPageview();
	} catch(err) {}
</script>

</body>
</html>
